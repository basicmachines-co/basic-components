{# def
    id: str = "",
    form: StarletteForm = None,
    className: str = "",
    method: str = "POST",
    action: str = "",
    enctype: str = "application/x-www-form-urlencoded"
#}

{% macro error_classes(field) %}
  {% if field.errors %}
    border-red-600 dark:border-red-300 ring-red-600 dark:ring-red-300
  {% endif %}
{% endmacro %}


<form
    id="{{ id }}"
    method="{{ method }}"
    action="{{ action }}"
    enctype="{{ enctype }}"
    class="{{ className }} space-y-4"
    {{ attrs.render() }}
>
  {% for field in form %}
    <FormItem>
      {% if not field.flags.hidden %}
        <FormLabel for_id="{{ field.label.field_id }}" :error="{{ field.errors }}">{{ field.label.text }}</FormLabel>
      {% endif %}

      <FormControl>
        {% set field_class = "flex h-10 w-full rounded-md border border-zinc-200 bg-white px-3 py-2 text-sm ring-offset-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-zinc-950 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:border-zinc-800 dark:bg-zinc-950 dark:ring-offset-zinc-950 dark:placeholder:text-zinc-400 dark:focus-visible:ring-zinc-300 " + error_classes(field)  %}

        {% if field.type == 'StringField' or field.type == 'EmailField' %}
          {{ field(class_=field_class) }}
        {% elif field.type == 'TextAreaField' %}
          {{ field(class_=field_class + " resize-none") }}
        {% elif field.type == 'PasswordField' %}
          {{ field(class_=field_class + " placeholder:text-zinc-500 dark:placeholder:text-zinc-400") }}
        {% elif field.type == 'SelectField' %}
          {{ field(class_=field_class + " appearance-none") }}
        {% elif field.type == 'FileField' %}
          {{ field(class_=field_class + " file:bg-transparent file:text-sm file:font-medium file:text-zinc-950") }}
        {% else %}
          {{ field(class_=field_class) }}
        {% endif %}
      </FormControl>

      <FormDescription>{{ field.description }}</FormDescription>

      {% if field.errors %}
        <FormMessage>
          {{ field.errors[0] }}
        </FormMessage>
      {% endif %}
    </FormItem>
  {% endfor %}
  {{ content }}
</form>
