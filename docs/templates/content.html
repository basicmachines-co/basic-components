<!-- Hot reload script -->
{% if DEBUG %}
    {{ hotreload.script(url_for('hot-reload')) | safe }}
{% endif %}

<script>

    document.addEventListener('DOMContentLoaded', () => {
        document.querySelectorAll('.prose pre').forEach((preBlock) => {
            const codeBlock = preBlock.querySelector('code');

            // Create a wrapper for the pre block and move the pre inside it
            const wrapper = document.createElement('div');
            wrapper.classList.add('relative');
            preBlock.parentNode.insertBefore(wrapper, preBlock);
            wrapper.appendChild(preBlock);

            // Create the copy button
            const copyButton = document.createElement('button');
            copyButton.classList.add(
                'absolute', 'top-2', 'right-2', 'bg-zinc-100',
                'hover:bg-zinc-200', 'dark:bg-zinc-800',
                'dark:hover:bg-zinc-700', 'text-sm', 'px-2',
                'py-1', 'border', 'rounded-md'
            );

            // Use the custom SVG component icons in the innerHTML of the button
            copyButton.innerHTML = `<ClipboardCopy className="h-4- w-4 bg-zinc-100"/>`;

            wrapper.appendChild(copyButton);

            // Add copy functionality to the button
            copyButton.addEventListener('click', () => {
                navigator.clipboard.writeText(codeBlock.textContent).then(() => {
                    // Change the icon to a checkmark on success
                    copyButton.innerHTML = `<ClipboardCheck className="h-4- w-4 bg-zinc-100"/>`;
                    setTimeout(() => {
                        // Revert back to the original clipboard icon
                        copyButton.innerHTML = `<ClipboardCopy className="h-4- w-4 bg-zinc-100"/>`;
                    }, 2000);
                }).catch(err => console.error('Failed to copy text: ', err));
            });
        });
    });


</script>



<DocLayout :site_config="{{ config }}" :current_path="{{ current_path }}" :toc="{{ toc }}">

    <!--component title -->
    <h3 class="text-2xl font-semibold leading-none tracking-tight pb-4">
        {{ metadata.title }}
    </h3>

    <!--component description -->
    <p class="text-sm text-zinc-500 dark:text-zinc-400">
        {{ metadata.description }}
    </p>


    <!--component demo -->
    <div class="flex flex-col justify-center max-w-screen-lg mx-auto">
        <Card className="border rounded-lg my-8 min-w-96 md:px-40 md:py-20">
            <CardContent>

                <Accordion>
                    <AccordionItem value="item-1">
                        <AccordionTrigger>Can I keep my options open?</AccordionTrigger>
                        <AccordionContent>
                            Yes, it's good to have options.
                        </AccordionContent>
                    </AccordionItem>
                    <AccordionItem value="item-2">
                        <AccordionTrigger>Do I have to choose just one?</AccordionTrigger>
                        <AccordionContent>
                            Yes, everyone must choose.
                        </AccordionContent>
                    </AccordionItem>
                </Accordion>


            </CardContent>
        </Card>

    </div>

    <!-- markdown content -->
    <article class="prose prose-zinc dark:prose-invert max-w-screen-xlg max-w-none">
        {{ content | safe }}
    </article>


{#    <div x-data="{ activeTab: '{{ metadata.components[0] }}' }" class="border rounded-md shadow">#}
{#        <nav class="flex border-b">#}
{#            {%- for component in metadata.components -%}#}
{#                <button#}
{#                        @click="activeTab = '{{ component }}'"#}
{#                        :class="{#}
{#                    'text-zinc-900 font-semibold dark:text-zinc-100 border-b-2 border-zinc-900 dark:border-zinc-100': activeTab === '{{ component }}',#}
{#                    'text-zinc-600 dark:text-zinc-400 hover:text-zinc-900 dark:hover:text-zinc-100': activeTab !== '{{ component }}'#}
{#                }"#}
{#                        class="py-2 px-4"#}
{#                >#}
{#                    {{ component | filename }}#}
{#                </button>#}
{#            {%- endfor -%}#}
{#        </nav>#}
{##}
{#        <div class="p-4">#}
{#            {%- for component in metadata.components -%}#}
{#                <div x-show="activeTab === '{{ component }}'" x-transition:enter="transition-opacity duration-300 ease-out" x-transition:enter-start="opacity-0" x-transition:enter-end="opacity-100" class="relative">#}
{#                    <!-- Copy Button -->#}
{#                    <button#}
{#                            @click="navigator.clipboard.writeText($refs.code{{ loop.index }}.textContent)"#}
{#                            class="absolute top-2 right-2 bg-zinc-100 hover:bg-zinc-200 dark:bg-zinc-800 dark:hover:bg-zinc-700 text-sm px-2 py-1 border rounded-md transition"#}
{#                    >#}
{#                        Copy#}
{#                    </button>#}
{##}
{#                    <!-- Code Block -->#}
{#                    <pre class="language-html"><code class="language-html" x-ref="code{{ loop.index }}">{{ component | include_file }}</code></pre>#}
{#                </div>#}
{#            {%- endfor -%}#}
{#        </div>#}
{#    </div>#}
</DocLayout>
